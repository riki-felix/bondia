---
/*
  RdsCountWidget
  Props:
	- pisos: array de pisos RDS
	- label?: string (opcional)
	- size?: number | string (para grid-X)
*/

import WidgetShell from "../WidgetShell.astro";
import '../../styles/components/widgets.css';

type PisoRds = {
  id: string;
  nombre: string;
  direccion?: string;
  fecha_creacion: string;
};

interface Props {
  pisos?: PisoRds[];
  label?: string;
  size?: number | string;
}

const { pisos = [], label, size = 3 } = Astro.props as Props;

const count = Array.isArray(pisos) ? pisos.length : 0;

const displayLabel =
  label && label.trim().length > 0
	? label
	: 'Pisos en RDS';
---

<WidgetShell size={size} ariaLabelledBy="wg-rds-count-title">
  <div class="widget-row--totals">
	<div class="widget-cell">
	  <span class="data-money data-xl">{count}</span>
	  <span id="wg-rds-count-title" class="data-label label-m">
		{displayLabel}
	  </span>
	</div>
  </div>
</WidgetShell>